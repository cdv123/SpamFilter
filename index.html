<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="https://pyscript.net/latest/pyscript.css" />
    <link rel="stylesheet" href="style.css" />
    <meta charset="UTF-8">
    <script defer src="https://pyscript.net/latest/pyscript.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analysis of different methods for spam classification</title>
    <py-config>
        packages= ["numpy", "gensim"]
        [[fetch]]
        from = "./"
        files =["numpyNetwork.py", "word2vec.py", "simplifyDataset.py", "numpyNetwork.py", "oneHot.py","dataset.py","naivesBayesMethod.py"]
    </py-config>
</head>
<body>
    <h1>Spam Detection</h1>
    <label for="msg-input" id = "msg-label">Input spam (or ham) message here:</label>
    <input type="text" id = "msg-input">
    <button id = "Evaluate">Evaluate Message</button>
    <div id = "modal-results">
        <button class = "close-btn" id = "close-results">X</button>
        <div class = "bar"> Naives Bayes confidence:</div>
        <div class = "bar"> One Hot encoding confidence:</div>
        <div class = "bar"> Word2Vec Google news embeddings confidence:</div>
        <div class = "bar"> Word2Vec custom word embeddings confidence: </div>
    </div> 
    <button id = "settings-btn"> Settings</button>
    <script src = "frontend.js"></script>
    <py-script>
        import numpy as np
        from gensim.models import Word2Vec
        from js import document
        from word2vec import sentenceEmbedding
        from oneHot import oneHotEncode,getMostCommonWords
        from numpyNetwork import neuralNetwork
        from simplifyDataset import loadSMS,convertSpamToBinary
        from naivesBayesMethod import trainModel
        from pyodide.http import open_url
        trainingText = open_url("https://raw.githubusercontent.com/cdv123/SpamFilter/webversion/Dataset/SMSSpamCollection.txt")
        stopwordsURL = open_url("https://raw.githubusercontent.com/cdv123/SpamFilter/webversion/Dataset/stopwords.txt")
        f = trainingText.read()
        print(type(f))

    </py-script>
</body>
</html>